{"ast":null,"code":"var _jsxFileName = \"/Users/mark/Desktop/Projects/StockTradingApp/StockTradingApp - Client/src/Components/Login/login.js\";\nimport React, { Component } from 'react';\nimport auth from '../../Helper/auth';\nimport './login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.validateForm = () => {\n      if (this.state.password.length < 6) {\n        this.setState({\n          err: 'password length should be > 6'\n        });\n        return false;\n      }\n\n      if (this.state.email1 !== this.state.email2) {\n        this.setState({\n          err: 'emails do not match'\n        });\n        return false;\n      }\n\n      return true;\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n\n      if (!this.validateForm()) {\n        return;\n      }\n\n      auth.login(this.state.username, this.state.password).then(message => {\n        console.log(message);\n\n        if (message.authenticated) {\n          this.setState({\n            authenticated: true,\n            err: \"\"\n          });\n          this.props.setToken(message.data.token);\n        } else {\n          this.setState({\n            authenticated: false,\n            err: message.error\n          });\n        }\n      });\n    };\n\n    this.myChangeHandler = event => {\n      let nam = event.target.name;\n      let val = event.target.value;\n      this.setState({\n        [nam]: val\n      });\n    };\n\n    this.state = {\n      err: \"\",\n      authenticated: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  render() {\n    if (!this.state.authenticated) {\n      return /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"Login\",\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"Login-header\",\n          children: \"Log in\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Login-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"Login-label\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"Login-input\",\n            type: \"email\",\n            placeholder: \"Enter your email\",\n            name: \"username\",\n            onChange: this.myChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Login-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"Login-label\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"Login-input\",\n            type: \"password\",\n            placeholder: \"Enter your password\",\n            name: \"password\",\n            onChange: this.myChangeHandler\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Login-container\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"Login-submitBtn\",\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: this.state.err\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Successfully logged in \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Login;","map":{"version":3,"sources":["/Users/mark/Desktop/Projects/StockTradingApp/StockTradingApp - Client/src/Components/Login/login.js"],"names":["React","Component","auth","Login","constructor","props","validateForm","state","password","length","setState","err","email1","email2","handleSubmit","event","preventDefault","login","username","then","message","console","log","authenticated","setToken","data","token","error","myChangeHandler","nam","target","name","val","value","bind","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport auth from '../../Helper/auth'\nimport './login.css'\n\n\nclass Login extends Component {\n\n    constructor(props){\n        super(props);\n\n        this.state = {\n            err:\"\",\n            authenticated:\"\",\n        }\n\n        this.handleSubmit = this.handleSubmit.bind(this);\n\n    }\n\n    validateForm = () => {\n\n        if(this.state.password.length < 6){\n            this.setState({\n                err: 'password length should be > 6'\n            })\n            return false;\n        }\n\n        if(this.state.email1 !== this.state.email2){\n            this.setState({\n                err: 'emails do not match'\n            })\n            return false;\n        }\n        \n        return true;\n    }\n\n    \n\n    handleSubmit = (event) => {\n\n        event.preventDefault();\n        \n        if(!this.validateForm()){\n            return;\n        }\n\n\n        auth.login(this.state.username, this.state.password).then((message) => {\n            console.log(message);\n\n            if(message.authenticated){\n                this.setState({\n                    authenticated: true,\n                    err:\"\"\n                });\n\n                this.props.setToken(message.data.token)\n            }\n            else{\n                this.setState({\n                    authenticated: false,\n                    err: message.error\n                });\n            }\n            \n        });\n\n    }\n\n    myChangeHandler = (event) => {\n\n        let nam = event.target.name;\n        let val = event.target.value;\n        this.setState({[nam]: val});\n\n    }\n\n  \n    render() {\n\n        if(!this.state.authenticated){\n\n            return (\n\n                    <form id='Login' onSubmit={this.handleSubmit}>\n\n                        <h2 className=\"Login-header\">Log in</h2>\n                        \n                        <div className=\"Login-container\">\n                            <label className=\"Login-label\">Email</label>\n                            <input className=\"Login-input\" type=\"email\" placeholder=\"Enter your email\" name='username' onChange={this.myChangeHandler}></input>\n                        </div>\n\n                        <div className=\"Login-container\">\n                            <label className=\"Login-label\">Password</label>\n                            <input className=\"Login-input\" type=\"password\" placeholder=\"Enter your password\" name='password' onChange={this.myChangeHandler}></input>\n                        </div>\n                        \n                        <div className=\"Login-container\">\n                            <button type=\"submit\" className=\"Login-submitBtn\">Sign In</button>\n                        </div>\n\n\n                        <div>\n                            {this.state.err}\n                        </div>\n\n\n                    </form>\n\n            );\n        }\n\n        return (\n            <div>Successfully logged in </div>\n        )\n\n    }\n  }\n  \n  export default Login;"]},"metadata":{},"sourceType":"module"}